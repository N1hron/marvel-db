"use strict";(self.webpackChunkproject_2=self.webpackChunkproject_2||[]).push([[903],{4248:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t.p+"static/media/error.7c49b9a23971acf1432a.png",a=t(184);var s=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{src:r,alt:"",className:"error"})})}},2614:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(9439),a=t(2791),s=t(4270),c=t(1176),i=t(6126),o=t(1968),u=t.n(o),l=t(4960),d=t.p+"static/media/hammer-and-shield.439ab19cfabed7d9d9b8.png",h=t(184);function m(e){var n=e.data,t=n.name,r=n.description,a=n.thumbnail,s=n.homepage,c=n.wiki;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"random-info__image",children:(0,h.jsx)("img",{src:a,alt:t})}),(0,h.jsxs)("div",{className:"random-info__info",children:[(0,h.jsxs)("div",{className:"random-info__text",children:[(0,h.jsx)("p",{className:"random-info__name",children:t}),(0,h.jsx)("p",{className:"random-info__description",children:r?r.length>220?r+"...":r:null})]}),(0,h.jsxs)("div",{className:"random-info__btns",children:[(0,h.jsx)("a",{className:"button button_red",href:s,children:"Homepage"}),(0,h.jsx)("a",{className:"button",href:c,children:"Wiki"})]})]})]})}var f=function(){var e=(0,a.useState)({}),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=(0,i.Z)(),f=o.getCharacterById,p=o.process,x=o.setProcess;function j(){var e=Math.floor(400*Math.random())+1011e3;f(e).then((function(e){return s(e)})).then((function(){return x("confirmed")}))}return(0,a.useEffect)((function(){j()}),[]),(0,h.jsxs)("section",{className:"random-info",children:[(0,h.jsx)(c.Z,{in:"confirmed"===p,timeout:300,classNames:"appear",children:(0,h.jsx)("div",{className:"random-info__block",children:(0,l.Z)(p,m,t)})}),(0,h.jsxs)("div",{className:"random-info__static",children:[(0,h.jsxs)("div",{className:"random-info__static-text",children:[(0,h.jsxs)("p",{children:["Random character for today! ",(0,h.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,h.jsx)("p",{children:"Or choose another one"})]}),(0,h.jsx)("button",{className:"button button_red",disabled:"loading"===p,onClick:j,children:"loading"===p?(0,h.jsx)(u(),{type:"cylon",width:"50px",height:"50px"}):"Try it"}),(0,h.jsx)("img",{src:d,alt:"hammer-and-shiled"})]})]})},p=t(4165),x=t(3433),j=t(5861),b=t(8839);var v=function(e){var n=(0,a.useState)([]),t=(0,r.Z)(n,2),s=t[0],c=t[1],o=(0,a.useState)(210),l=(0,r.Z)(o,2),d=l[0],m=l[1],f=(0,a.useState)(!0),v=(0,r.Z)(f,2),g=v[0],_=v[1],Z=(0,a.useState)(!1),N=(0,r.Z)(Z,2),y=N[0],k=N[1],w=(0,i.Z)(),C=w.getCharacters,S=w.process,T=w.setProcess,E=(0,a.useRef)([]);function I(e){C(e).then((function(e){return e.map((function(e){return{name:e.name,thumbnail:e.thumbnail,id:e.id}}))})).then(B)}function B(e){return P.apply(this,arguments)}function P(){return(P=(0,j.Z)((0,p.Z)().mark((function e(n){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c([].concat((0,x.Z)(s),(0,x.Z)(n))),_(!1),m(d+9),k(n.length<9),T("confirmed");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){E.current.forEach((function(e){e.style.transform="none",e.style.boxShadow="none"})),E.current[e].style.transition="all 0.15s",E.current[e].style.transform="translateY(-6px)",E.current[e].style.boxShadow="0px 5px 20px #9F0013",E.current[e].focus()}(0,a.useEffect)((function(){g&&I()}),[]),(0,a.useEffect)((function(){s.length>9&&"confirmed"===S&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})}),[S]);var D=(0,a.useMemo)((function(){return(0,b.Z)(S,(function(){return function(n){return n.map((function(n,t){var r=n.name,a=n.thumbnail,s=n.id;return(0,h.jsxs)("li",{className:"cards__card",ref:function(e){return E.current[t]=e},tabIndex:0,onClick:function(){e.onCharSelected(s),F(t)},onKeyDown:function(n){n.key.match(/Enter/)&&(n.preventDefault(),e.onCharSelected(s),F(t))},children:[(0,h.jsx)("img",{src:a,alt:r,className:"card__img"}),(0,h.jsx)("p",{className:"card__name",children:r})]})}))}(s)}),g)}),[S]);return(0,h.jsxs)("div",{className:"cards",children:[(0,h.jsx)("ul",{className:"cards__container",children:D}),g||"error"===S?null:(0,h.jsx)("button",{className:"button button_red",disabled:"loading"===S,onClick:function(){return I(d)},style:{display:y?"none":"flex"},children:"loading"===S?(0,h.jsx)(u(),{type:"cylon",width:"50px",height:"50px"}):"Load more"})]})};var g=function(){return(0,h.jsxs)("div",{className:"about__skeleton",children:[(0,h.jsx)("p",{children:"Please select a character to see information"}),(0,h.jsxs)("div",{className:"skeleton pulse",children:[(0,h.jsxs)("div",{className:"skeleton__row",children:[(0,h.jsx)("div",{className:"skeleton__circle"}),(0,h.jsx)("div",{className:"skeleton__line skeleton__line_thin"})]}),(0,h.jsx)("div",{className:"skeleton__row",children:(0,h.jsx)("div",{className:"skeleton__line"})}),(0,h.jsx)("div",{className:"skeleton__row",children:(0,h.jsx)("div",{className:"skeleton__line"})}),(0,h.jsx)("div",{className:"skeleton__row",children:(0,h.jsx)("div",{className:"skeleton__line"})})]})]})},_=t(3941),Z=t(4248),N=t(5705),y=t(7670),k=t(1087);function w(){var e=(0,a.useState)(null),n=(0,r.Z)(e,2),t=n[0],s=n[1],c=(0,i.Z)(),o=c.process,l=c.setProcess,d=c.getCharacterByName;function m(e){s(e),l("confirmed")}return(0,h.jsx)(N.J9,{initialValues:{name:""},validationSchema:y.Ry({name:y.Z_().required("This field is required")}),onSubmit:function(e){var n;n=e.name,d(n).then(m).catch((function(){return l("error")}))},children:(0,h.jsxs)(N.l0,{className:"search "+("error"===o?"search_failure":"confirmed"===o?"search_success":""),children:[(0,h.jsx)("p",{children:"Or find a character by name:"}),(0,h.jsxs)("div",{className:"search__input",children:[(0,h.jsx)(N.gN,{name:"name",type:"text",id:"search",placeholder:"Enter name"}),(0,h.jsx)("button",{type:"submit",className:"button button_red",disabled:"loading"===o,children:"loading"===o?(0,h.jsx)(u(),{type:"cylon",width:"50px",height:"50px"}):"Find"})]}),(0,h.jsx)(N.Bc,{name:"name",className:"error",component:"p"}),(0,h.jsxs)("div",{className:"search-message",children:[(0,h.jsx)("p",{children:"error"===o?"The character was not found. Check the name and try again":"confirmed"===o?"There is! Visit ".concat(t.name," page?"):""}),(0,h.jsx)(k.rU,{to:t?"/characters/".concat(t.name):"",className:"button",children:"To page"})]})]})})}function C(e,n,t){switch(e){case"waiting":return(0,h.jsx)(g,{});case"loading":return(0,h.jsx)(_.Z,{});case"confirmed":return(0,h.jsx)(n,{data:t});case"error":return(0,h.jsx)(Z.Z,{})}}function S(e){var n=e.data,t=n.name,r=n.description,a=n.thumbnail,s=n.wiki,c=n.homepage,i=n.comics.slice(0,15);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"about__header",children:[(0,h.jsx)("img",{src:a,alt:t,className:"about__img"}),(0,h.jsxs)("div",{className:"about__info",children:[(0,h.jsx)("div",{className:"about__name",children:t}),(0,h.jsxs)("div",{className:"about__btns",children:[(0,h.jsx)("a",{tabIndex:-1,href:c,children:(0,h.jsx)("button",{className:"button button_red",children:"Homepage"})}),(0,h.jsx)("a",{tabIndex:-1,href:s,children:(0,h.jsx)("button",{className:"button",children:"Wiki"})})]})]})]}),(0,h.jsx)("div",{className:"about__description",children:r}),(0,h.jsx)("h2",{children:"Comics:"}),(0,h.jsx)("div",{className:"about__comics",children:(0,h.jsx)("ul",{children:i.length>0?i.map((function(e,n){return(0,h.jsx)("li",{className:"comic",children:e.name},n)})):"There is no comics here. Yet..."})})]})}var T=function(e){var n=(0,a.useState)(null),t=(0,r.Z)(n,2),s=t[0],o=t[1],u=(0,i.Z)(),l=u.getCharacterById,d=u.process,m=u.setProcess;function f(){var n=e.charId;n&&l(n).then((function(e){return o(e)})).then((function(){return m("confirmed")}))}return(0,a.useEffect)((function(){f()}),[]),(0,a.useEffect)((function(){f()}),[e.charId]),(0,h.jsx)("div",{className:"about",children:(0,h.jsxs)("div",{className:"about__content",children:[(0,h.jsx)(c.Z,{in:"confirmed"===d,timeout:300,classNames:"appear",children:(0,h.jsx)("div",{className:"about__container",children:C(d,S,s)})}),(0,h.jsx)(w,{})]})})},E=t(5671),I=t(3144),B=t(136),P=t(7277),F=function(e){(0,B.Z)(t,e);var n=(0,P.Z)(t);function t(){var e;(0,E.Z)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=n.call.apply(n,[this].concat(a))).state={error:!1},e}return(0,I.Z)(t,[{key:"componentDidCatch",value:function(e,n){console.log(e,n),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,h.jsx)(Z.Z,{}):this.props.children}}]),t}(a.Component),D=F,O=t.p+"static/media/vision-bg.66780332fb3aba6e4626.png";function q(){var e=(0,a.useState)(null),n=(0,r.Z)(e,2),t=n[0],c=n[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.Z,{children:[(0,h.jsx)("meta",{name:"description",content:"Web site created using create-react-app"}),(0,h.jsx)("title",{children:"Marvel DB"})]}),(0,h.jsx)(D,{children:(0,h.jsx)(f,{})}),(0,h.jsxs)("section",{className:"characters",children:[(0,h.jsx)(D,{children:(0,h.jsx)(v,{onCharSelected:function(e){c(e)}})}),(0,h.jsx)(D,{children:(0,h.jsx)(T,{charId:t})}),(0,h.jsx)("img",{className:"background-img",src:O,alt:"vision"})]})]})}},3941:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var r=t.p+"static/media/spinner.abba77cc71e5f76258fc50b87e593ac6.svg",a=t(184),s=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{src:r,alt:"",className:"spinner"})})}},6126:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(4165),a=t(5861),s=t(3329),c=t.n(s),i=t(9439),o=t(2791);function u(){var e=function(){var e=(0,o.useState)("waiting"),n=(0,i.Z)(e,2),t=n[0],s=n[1],c=(0,o.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,c,i,o,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,c=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},s("loading"),e.prev=4,e.next=7,fetch(n,{method:t,body:a,headers:c});case 7:if((i=e.sent).ok){e.next=10;break}throw new Error("Could not fetch from ".concat(n,", status: ").concat(i.status));case 10:return e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,e.t0=e.catch(4),s("error"),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{request:c,process:t,setProcess:s}}(),n=e.request,t=e.process,s=e.setProcess,u=210,l="https://gateway.marvel.com:443/v1/public/",d=+new Date,h=c()(d+"b32e138e4085075474c409641be15ebc5b46dd44b613e5c1ee278d1974ac9c3d77544391");function m(){return m=(0,a.Z)((0,r.Z)().mark((function e(){var t,a,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:u,e.next=3,n("".concat(l,"characters?")+"limit=9&offset=".concat(t)+"&ts="+d+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+h);case 3:return a=e.sent,e.abrupt("return",a.data.results.map(b));case 5:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(l,"characters/").concat(t,"?")+"&ts="+d+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+h);case 2:return a=e.sent,e.abrupt("return",b(a.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return p=(0,a.Z)((0,r.Z)().mark((function e(){var t,a,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:0,e.next=3,n("".concat(l,"comics?limit=8&offset=").concat(t)+"&ts="+d+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+h);case 3:return a=e.sent,e.abrupt("return",a.data.results.map(v));case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(l,"comics/").concat(t,"?")+"ts="+d+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+h);case 2:return a=e.sent,e.abrupt("return",v(a.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(l,"characters?name=").concat(t,"&")+"ts="+d+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+h);case 2:return a=e.sent,e.abrupt("return",b(a.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e){return{id:e.id,name:e.name,description:e.description?e.description:"There is no description here. Yet...",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}},v=function(e){return{id:e.id,title:e.title,thumbnail:Object.values(e.thumbnail).join("."),price:e.prices[0].price,description:e.description?e.description:"There is no description here. Yet...",pages:e.pageCount,language:e.textObjects[0]?e.textObjects[0].language:""}};return{getCharacters:function(){return m.apply(this,arguments)},getCharacterById:function(e){return f.apply(this,arguments)},getComics:function(){return p.apply(this,arguments)},getComicById:function(e){return x.apply(this,arguments)},getCharacterByName:function(e){return j.apply(this,arguments)},process:t,setProcess:s}}},4960:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(4248),a=t(3941),s=t(184);function c(e,n,t){switch(e){case"waiting":case"loading":return(0,s.jsx)(a.Z,{});case"confirmed":return(0,s.jsx)(n,{data:t});case"error":return(0,s.jsx)(r.Z,{})}}},8839:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(4248),a=t(3941),s=t(184);function c(e,n,t){switch(e){case"waiting":return(0,s.jsx)(a.Z,{});case"loading":return t?(0,s.jsx)(a.Z,{}):(0,s.jsx)(n,{});case"confirmed":return(0,s.jsx)(n,{});case"error":return(0,s.jsx)(r.Z,{})}}}}]);
//# sourceMappingURL=903.fe006fec.chunk.js.map
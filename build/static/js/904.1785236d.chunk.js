"use strict";(self.webpackChunkproject_2=self.webpackChunkproject_2||[]).push([[904],{5710:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n.p+"static/media/avengers.539407e2a471db3a37c9.png",c=n.p+"static/media/avengers-logo.a0e4cca1091366da37c4.png",a=n(184);function s(){return(0,a.jsxs)("section",{className:"banner",children:[(0,a.jsx)("img",{src:r,alt:"avengers",className:"banner__bg-img"}),(0,a.jsxs)("div",{className:"banner__text",children:["New comics every week! ",(0,a.jsx)("br",{}),"Stay tuned!"]}),(0,a.jsx)("img",{src:c,alt:"avengers-logo",className:"banner__logo"})]})}},4248:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n.p+"static/media/error.7c49b9a23971acf1432a.png",c=n(184);var a=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{src:r,alt:"",className:"error"})})}},1748:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(4270),c=n(5710),a=n(3433),s=n(9439),i=n(2791),o=n(1087),u=n(6126),l=n(8839),p=n(1968),d=n.n(p),h=n(184);function f(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],r=t[1],c=(0,i.useState)(!0),p=(0,s.Z)(c,2),f=p[0],m=p[1],g=(0,i.useState)(0),b=(0,s.Z)(g,2),x=b[0],v=b[1],j=(0,u.Z)(),Z=j.getComics,w=j.process,y=j.setProcess;function k(){Z(x).then((function(e){r([].concat((0,a.Z)(n),(0,a.Z)(e))),v(x+8),m(!1)})).then((function(){return y("confirmed")}))}(0,i.useEffect)((function(){f&&k()}),[]),(0,i.useEffect)((function(){n.length>8&&"confirmed"===w&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})}),[w]);var _=(0,i.useMemo)((function(){return(0,l.Z)(w,(function(){return function(e){return e.map((function(e,t){return(0,h.jsxs)(o.rU,{tabIndex:0,to:"/comics/".concat(e.id),children:[(0,h.jsx)("img",{src:e.thumbnail,alt:e.title,className:"catalog__product-image"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"catalog__product-title",children:e.title}),(0,h.jsx)("p",{className:"catalog__product-price",children:e.price?e.price+"$":"NOT AVAILABLE"})]})]},t)}))}(n)}),f)}),[w]);return(0,h.jsxs)("section",{className:"catalog",children:[(0,h.jsx)("div",{className:"catalog__container",children:_}),f||"error"===w?null:(0,h.jsx)("button",{className:"button button_red",disabled:"loading"===w,onClick:k,children:"loading"===w?(0,h.jsx)(d(),{type:"cylon",width:"50px",height:"50px"}):"Load more"})]})}function m(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.Z,{children:[(0,h.jsx)("meta",{name:"description",content:"Page with Marvel comics"}),(0,h.jsx)("title",{children:"Comics page"})]}),(0,h.jsx)(c.Z,{}),(0,h.jsx)(f,{})]})}},3941:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var r=n.p+"static/media/spinner.abba77cc71e5f76258fc50b87e593ac6.svg",c=n(184),a=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{src:r,alt:"",className:"spinner"})})}},6126:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(4165),c=n(5861),a=n(3329),s=n.n(a),i=n(9439),o=n(2791);function u(){var e=function(){var e=(0,o.useState)("waiting"),t=(0,i.Z)(e,2),n=t[0],a=t[1],s=(0,o.useCallback)(function(){var e=(0,c.Z)((0,r.Z)().mark((function e(t){var n,c,s,i,o,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",c=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},a("loading"),e.prev=4,e.next=7,fetch(t,{method:n,body:c,headers:s});case 7:if((i=e.sent).ok){e.next=10;break}throw new Error("Could not fetch from ".concat(t,", status: ").concat(i.status));case 10:return e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,e.t0=e.catch(4),a("error"),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{request:s,process:n,setProcess:a}}(),t=e.request,n=e.process,a=e.setProcess,u=210,l="https://gateway.marvel.com:443/v1/public/",p=+new Date,d=s()(p+"b32e138e4085075474c409641be15ebc5b46dd44b613e5c1ee278d1974ac9c3d77544391");function h(){return h=(0,c.Z)((0,r.Z)().mark((function e(){var n,c,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:u,e.next=3,t("".concat(l,"characters?")+"limit=9&offset=".concat(n)+"&ts="+p+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+d);case 3:return c=e.sent,e.abrupt("return",c.data.results.map(x));case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function f(){return(f=(0,c.Z)((0,r.Z)().mark((function e(n){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(l,"characters/").concat(n,"?")+"&ts="+p+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+d);case 2:return c=e.sent,e.abrupt("return",x(c.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return m=(0,c.Z)((0,r.Z)().mark((function e(){var n,c,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:0,e.next=3,t("".concat(l,"comics?limit=8&offset=").concat(n)+"&ts="+p+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+d);case 3:return c=e.sent,e.abrupt("return",c.data.results.map(v));case 5:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function g(){return(g=(0,c.Z)((0,r.Z)().mark((function e(n){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(l,"comics/").concat(n,"?")+"ts="+p+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+d);case 2:return c=e.sent,e.abrupt("return",v(c.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,c.Z)((0,r.Z)().mark((function e(n){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(l,"characters?name=").concat(n,"&")+"ts="+p+"&apikey=b613e5c1ee278d1974ac9c3d77544391&hash="+d);case 2:return c=e.sent,e.abrupt("return",x(c.data.results[0]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){return{id:e.id,name:e.name,description:e.description?e.description:"There is no description here. Yet...",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}},v=function(e){return{id:e.id,title:e.title,thumbnail:Object.values(e.thumbnail).join("."),price:e.prices[0].price,description:e.description?e.description:"There is no description here. Yet...",pages:e.pageCount,language:e.textObjects[0]?e.textObjects[0].language:""}};return{getCharacters:function(){return h.apply(this,arguments)},getCharacterById:function(e){return f.apply(this,arguments)},getComics:function(){return m.apply(this,arguments)},getComicById:function(e){return g.apply(this,arguments)},getCharacterByName:function(e){return b.apply(this,arguments)},process:n,setProcess:a}}},8839:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(4248),c=n(3941),a=n(184);function s(e,t,n){switch(e){case"waiting":return(0,a.jsx)(c.Z,{});case"loading":return n?(0,a.jsx)(c.Z,{}):(0,a.jsx)(t,{});case"confirmed":return(0,a.jsx)(t,{});case"error":return(0,a.jsx)(r.Z,{})}}}}]);
//# sourceMappingURL=904.1785236d.chunk.js.map